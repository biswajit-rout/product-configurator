{"version":3,"sources":["logo.svg","Pages/LeftPanel/LeftPanel.js","Utils/editor-lib.js","Components/UI/Modal/Modal.js","Pages/RightPanel/RightPanel.js","Pages/Main/Main.js","App.js","reportWebVitals.js","Store/Product/ProductReducer.js","Store/RootReducer.js","Store/Store.js","index.js"],"names":["LeftPanel","props","useDispatch","useState","productData","setproductData","useEffect","console","log","className","map","product","category_name","category_subtype","subtype","name","item_list","items","onClick","item","category_id","type","onItemSelect","style","backgroundColor","item_color","src","item_url","alt","item_id","svg_ns","xlink_ns","createSvgElement","elem","id","x","y","width","height","preserveAspectRatio","patternUnits","href","newElem","document","createElementNS","setAttribute","setAttributeNS","createBackgroundImage","svg","imageData","findDefs","defs","appendChild","patternId","patternObj","pattern","$","getBBox","imageObj","url","image","remove","attr","find","findSvg","captureSvg","callback","a","cloneSvg","cloneNode","images","getElementsByTagName","i","length","convertImageToBase64","getAttribute","imgBase64","result","svgToPng","Promise","resolve","reject","xhr","XMLHttpRequest","responseType","onload","reader","FileReader","onloadend","this","readAsDataURL","response","open","send","svgObjUrl","URL","createObjectURL","Blob","outerHTML","svgImg","Image","canvas","createElement","getContext","drawImage","toDataURL","ModalPopup","Modal","size","aria-labelledby","centered","Header","closeButton","Title","Body","children","Footer","Button","onHide","RightPanel","modalShow","setModalShow","svgContainer","useRef","imgUrl","setimgUrl","productSvg","axios","get","then","data","svgString","dummySvg","innerHTML","svgElem","xmlns","append","indx","path","removeAttr","html","initStageSvg","current","catch","error","selectItem","includes","img","imgData","color","createBackgroundColor","ref","version","viewBox","data-id","fill","stroke","d","transform","show","Main","selectedItem","setSelectedItem","currentProduct","productJson","product_data","stage_url","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","productReducer","state","payload","rootReducer","combineReducers","middleWare","logger","thunk","store","createStore","composeWithDevTools","applyMiddleware","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0640a9bd.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport './LeftPanel.scss';\r\n\r\nconst LeftPanel = (props) => {\r\n    const dispatch = useDispatch();\r\n    const [productData, setproductData] = useState([]);\r\n    useEffect(() => {\r\n        // const productData = productJson;\r\n        console.log(props.productData)\r\n        if (props.productData) {\r\n            setproductData(props.productData);\r\n        }\r\n        // const getProduct = vv1x ,A\r\n        // axios.get(props.productSvg)\r\n        // .then(response => {\r\n        //     console.log('Product Data', response.data);\r\n        // })\r\n        // .catch( error => {\r\n        //     console.log('error', error);\r\n        // })\r\n        // return () => {\r\n        //     // cleanup\r\n        // }\r\n    }, [props.productData])\r\n\r\n    const onItemClickHandler = (item, category_id, type) => {\r\n        console.log('done', item);\r\n        props.onItemSelect({ item, category_id, type });\r\n    }\r\n    return (\r\n        <div className=\"col-sm-4 left-panel\">\r\n            <div className=\"row\">\r\n                <div className=\"col-sm-12 category-panel\">\r\n                    {\r\n                        productData && productData.map(product => {\r\n                            return <div className=\"category-items\" key={product.category_id}>\r\n                                <h6 className=\"custom-header\">{product.category_name}</h6>\r\n                                {product.category_subtype && product.category_subtype.map(subtype => {\r\n                                    return (\r\n                                        <div className=\"subtypes\" key={subtype.name}>\r\n                                            <div className=\"subtype_type\">{subtype.name}</div>\r\n                                            <div className=\"item-list\">\r\n\r\n                                                {\r\n                                                    subtype && subtype.item_list.map(items => {\r\n                                                        return (\r\n                                                            <div onClick={() => onItemClickHandler(items, product.category_id, subtype.type)} className=\"img-panel\" key={items.item_id}>\r\n                                                                {\r\n                                                                    subtype.type === 'color' ? <div className=\"color-item\" style={{\r\n                                                                        backgroundColor: items.item_color\r\n                                                                    }}></div> : <img src={items.item_url} alt=\"\" />\r\n                                                                }\r\n\r\n                                                            </div>\r\n                                                        )\r\n                                                        // {JSON.stringify(items)}\r\n                                                    })\r\n                                                }\r\n\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n\r\n                            </div>\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LeftPanel\r\n","import $ from \"jquery\";\r\n\r\n\r\nconst svg_ns = \"http://www.w3.org/2000/svg\";\r\nconst xlink_ns = \"http://www.w3.org/1999/xlink\";\r\nconst svgns = \"http://www.w3.org/2000/svg\",\r\n    xmlns = \"http://www.w3.org/XML/1998/namespace\",\r\n    xmlnsns = \"http://www.w3.org/2000/xmlns/\", // see http://www.w3.org/TR/REC-xml-names/#xmlReserved\r\n    se_ns = \"http://svg-edit.googlecode.com\",\r\n    htmlns = \"http://www.w3.org/1999/xhtml\",\r\n    mathns = \"http://www.w3.org/1998/Math/MathML\";\r\n// var getType = \"bgptrn_\"+ stageElem.getAttribute('id').replace('layer_',\"\");\r\n// var bgPatternGrp = $(stageElem).find(\"g[type=\"+getType+\"]\");\r\nconst createDefElement = () => {\r\n    return document.createElementNS(svg_ns, 'defs');\r\n}\r\nconst createSvgElement = ({ elem, id, x, y, width, height, preserveAspectRatio, patternUnits, href }) => {\r\n    var newElem = document.createElementNS(svg_ns, elem);\r\n    newElem.setAttribute(\"id\", id);\r\n    if (x) newElem.setAttribute(\"x\", x);\r\n    if (y) newElem.setAttribute(\"y\", y);\r\n    if (width) newElem.setAttribute(\"width\", width);\r\n    if (height) newElem.setAttribute(\"height\", height);\r\n    newElem.setAttribute(\"xmlns:xlink\", xlink_ns);\r\n    if (preserveAspectRatio) {\r\n        newElem.setAttribute(\"preserveAspectRatio\", preserveAspectRatio);\r\n    }\r\n    if (patternUnits) {\r\n        newElem.setAttribute(\"patternUnits\", patternUnits);\r\n    }\r\n    if (href) {\r\n        newElem.setAttributeNS(xlink_ns, \"xlink:href\", href);\r\n    }\r\n    return newElem;\r\n}\r\nexport const createBackgroundColor = (svg, category_id, color) => {\r\n    // Check if pattern exist\r\n    const patternId = 'pattern_' + category_id;\r\n    if ($(`#${patternId}`)) $(`#${patternId}`).remove();\r\n    $(`[data-id=${category_id}]`).attr('fill', color);\r\n}\r\n\r\nexport const createBackgroundImage = (svg, category_id, imageData, type) => {\r\n    if (!findDefs(svg)) {\r\n        const defs = createDefElement();\r\n        svg.appendChild(defs);\r\n    }\r\n\r\n    const patternId = 'pattern_' + category_id;\r\n    const patternObj = {\r\n        elem: 'pattern',\r\n        // patternUnits: 'none', //'userSpaceOnUse',\r\n        width: type != 'pattern' ? '100%' : 100,\r\n        height: type != 'pattern' ? '100%' : 100,\r\n        id: patternId\r\n    }\r\n    const pattern = createSvgElement(type != 'pattern' ? patternObj : { ...patternObj, ...{ patternUnits: 'userSpaceOnUse' } });\r\n\r\n    const { width, height } = $(`[data-id=${category_id}]`)[0].getBBox();\r\n\r\n    const imageObj = {\r\n        elem: 'image',\r\n        href: imageData.url,\r\n        x: 0,\r\n        y: 0,\r\n        width: type != 'pattern' ? width : 100,\r\n        height: type != 'pattern' ? height : 100,\r\n        preserveAspectRatio: 'none'\r\n    }\r\n    const image = createSvgElement(imageObj);\r\n\r\n    pattern.appendChild(image);\r\n    if ($(`#${patternId}`)) $(`#${patternId}`).remove();\r\n    findDefs(svg).appendChild(pattern);\r\n    $(`[data-id=${category_id}]`).attr('fill', `url(#${patternId})`)\r\n}\r\nexport const findDefs = (svg) => {\r\n    return $(svg).find(\"defs\")[0];\r\n}\r\nexport const findSvg = (elem) => {\r\n    return $(elem).find(\"svg\")[0];\r\n}\r\nexport const initStageSvg = (svgContainer, svgString) => {\r\n    if (svgString) {\r\n        const dummySvg = createSvgElement({ elem: 'svg' });\r\n        dummySvg.innerHTML = svgString;\r\n        const svgElem = createSvgElement({\r\n            elem: 'svg',\r\n            width: '500px',\r\n            height: '500px'\r\n        });\r\n        $(svgElem).attr({\r\n            xmlns: svgns,\r\n            \"xmlns:se\": se_ns,\r\n            \"xmlns:xlink\": xlink_ns\r\n        }).append(createSvgElement({ elem: 'g' }));\r\n\r\n\r\n        const paths = $(dummySvg).find('path');\r\n        paths.map((indx, path) => {\r\n            $(path).removeAttr('class');\r\n            $(svgElem).find('g').append(path.cloneNode(true));\r\n        });\r\n        $(svgContainer).html(svgElem);\r\n        // console.log($(svgElem).find('path'));\r\n\r\n    }\r\n\r\n}\r\nexport const captureSvg = async (svg, callback) => {\r\n    if (svg) {\r\n        const cloneSvg = findSvg(svg).cloneNode(true);\r\n        const images = cloneSvg.getElementsByTagName('image');\r\n        for (let i = 0; i < images.length; i++) {\r\n            const imgBase64 = await convertImageToBase64(images[i].getAttribute(\"xlink:href\"));\r\n            // await imgBase64;\r\n            images[i].setAttribute(\"xlink:href\", imgBase64.result);\r\n        }\r\n        console.log(cloneSvg);\r\n        // Capture to png\r\n        svgToPng(cloneSvg, callback);\r\n    }\r\n}\r\nconst convertImageToBase64 = async function (url, callback) {\r\n    return new Promise((resolve, reject) => {\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.responseType = 'blob';\r\n        xhr.onload = function () {\r\n            var reader = new FileReader();\r\n            reader.onloadend = function () {\r\n                // callback(this);\r\n                resolve(this);\r\n            }\r\n            reader.readAsDataURL(xhr.response);\r\n        };\r\n        xhr.open('GET', url);\r\n        xhr.send();\r\n    });\r\n}\r\nconst svgToPng = (svg, callback) => {\r\n    if(svg) {\r\n        const svgObjUrl = URL.createObjectURL(new Blob([svg.outerHTML], { type: 'image/svg+xml' }));\r\n        const svgImg = new Image();\r\n        svgImg.onload = function(){\r\n            const canvas = document.createElement('canvas');\r\n            canvas.height = 500;\r\n            canvas.width = 500;\r\n            const canContext = canvas.getContext('2d');\r\n            canContext.drawImage(svgImg,0,0);\r\n            if(callback) {\r\n                callback(canvas.toDataURL('image/png'));\r\n            }\r\n        };\r\n        svgImg.src = svgObjUrl;\r\n\r\n    }\r\n}\r\n//  Editor =  {\r\n//     createElement: createElement,\r\n//     createDefElement: createDefElement,\r\n//     createBackgroundImage: createBackgroundImage,\r\n//     findSvg: findSvg\r\n// }\r\n// export default Editor;","import { Button, Modal } from 'react-bootstrap';\r\nimport React from 'react';\r\n\r\nconst ModalPopup = (props) => {\r\n    return (\r\n        <Modal\r\n            {...props}\r\n            size=\"lg\"\r\n            aria-labelledby=\"contained-modal-title-vcenter\"\r\n            centered >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                    Modal heading\r\n        </Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                {props.children}\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button onClick={props.onHide}>Close</Button>\r\n            </Modal.Footer> \r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default ModalPopup\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport './RightPanel.scss';\r\nimport $ from 'jquery';\r\nimport { createBackgroundImage, findSvg, createBackgroundColor, initStageSvg, captureSvg } from '../../Utils/editor-lib';\r\nimport axios from 'axios';\r\nimport Modal from '../../Components/UI/Modal/Modal';\r\n\r\nconst RightPanel = (props) => {\r\n    const [modalShow, setModalShow] = useState(false);\r\n    const svgContainer = useRef(null);\r\n    const [imgUrl, setimgUrl] = useState(null)\r\n    useEffect(() => {\r\n        if (props.productSvg) {\r\n            axios.get(props.productSvg)\r\n                .then(response => {\r\n                    console.log('Product SVG', response.data);\r\n                    initStageSvg(svgContainer.current, response.data);\r\n                })\r\n                .catch(error => {\r\n                    console.log('error', error);\r\n                })\r\n        }\r\n        // return () => {\r\n            \r\n        // }\r\n    }, [props.productSvg])\r\n    useEffect(() => {\r\n        console.log($('.rightPanel'), props.selectItem);\r\n        if (props.selectItem) {\r\n            const { item, category_id, type } = props.selectItem;\r\n            console.log($(`[data-id=${category_id}]`))\r\n            console.log(svgContainer);\r\n            if (findSvg(svgContainer.current)) {\r\n                if (['pattern', 'image'].includes(type)) {\r\n                    const img = new Image();\r\n                    img.onload = function () {\r\n                        console.log(this.height);\r\n                        const imgData = {\r\n                            height: this.height,\r\n                            width: this.width,\r\n                            url: item.item_url\r\n                        }\r\n                        createBackgroundImage(findSvg(svgContainer.current), category_id, imgData, type);\r\n                    }\r\n                    img.src = item.item_url;\r\n                } else {\r\n                    createBackgroundColor(findSvg(svgContainer.current), category_id, item.item_color)\r\n                }\r\n            }\r\n        }\r\n\r\n        return () => {\r\n            // cleanup\r\n        }\r\n    }, [props.selectItem, props.productSvg])\r\n\r\n    const captureStage = () => {\r\n        captureSvg(svgContainer.current, (data) => {\r\n            // console.log(data);\r\n            setimgUrl(data);\r\n            setModalShow(true);\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"col-sm-8 rightPanel\">\r\n            <div className=\"rightPanel__editorPanel\">\r\n                <div className=\"designContainer\" ref={svgContainer}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"500\" version=\"1.1\" width=\"500\" x=\"0px\" y=\"0px\" viewBox=\"0 0 500 500\">\r\n                        <g>\r\n                            <path data-id=\"cat001\" fill=\"red\" stroke=\"#0000ff\" d=\"M248.7,381.2C227.2,380.8,197.79999999999998,380.09999999999997,171.29999999999998,380C136.89999999999998,379.9,65.19999999999999,384,48.499999999999986,381.8C31.699999999999985,379.6,24.299999999999986,372.6,24.699999999999985,349.1S26.799999999999986,323.70000000000005,28.899999999999984,301C30.999999999999986,278.4,40.29999999999998,272.6,61.29999999999998,269C67.99999999999999,267.9,133.5,261.9,160.79999999999998,252.8C188.1,243.70000000000002,218.39999999999998,225.3,242.29999999999998,213.20000000000002C244.39999999999998,212.10000000000002,246.6,211.00000000000003,248.79999999999998,209.8L248.7,381.2Z\" transform=\"matrix(1,0,0,1,-21,-208)\" />\r\n                            <path data-id=\"cat002\" fill=\"blue\" stroke=\"#000000\" d=\"M251.3,381.2C272.8,380.8,302.2,380.09999999999997,328.70000000000005,380C363.1,379.9,434.80000000000007,384,451.50000000000006,381.8C468.30000000000007,379.6,475.70000000000005,372.6,475.30000000000007,349.1S473.20000000000005,323.70000000000005,471.1000000000001,301C469.00000000000006,278.4,459.7000000000001,272.6,438.7000000000001,269C432.0000000000001,267.9,366.5000000000001,261.9,339.2000000000001,252.8C311.9000000000001,243.70000000000002,281.6000000000001,225.3,257.7000000000001,213.20000000000002C255.6000000000001,212.10000000000002,253.4000000000001,211.00000000000003,251.2000000000001,209.8L251.3,381.2Z\" transform=\"matrix(1,0,0,1,-21,-208)\" />\r\n                        </g>\r\n                    </svg>\r\n                </div>\r\n            </div>\r\n            <button className='btn btn-primary' onClick={() => captureStage()}>Capture</button>\r\n            <Modal show={modalShow} onHide={() => setModalShow(false)}>\r\n                <div className=\"capture-img-area text-center\" >\r\n                    <img src={imgUrl}/>\r\n                </div>\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RightPanel\r\n","import React, { useState } from 'react'\r\nimport LeftPanel from '../LeftPanel/LeftPanel'\r\nimport RightPanel from '../RightPanel/RightPanel'\r\nimport productJson from '../../assets/json/product-data.json';\r\n\r\nconst Main = () => {\r\n    const [selectedItem, setSelectedItem] = useState(null);\r\n    const allProducts = productJson;\r\n    const currentProduct = allProducts[0];\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <LeftPanel productData={currentProduct.product_data}  onItemSelect={(item) => {setSelectedItem(item) }}/>\r\n                <RightPanel productSvg={currentProduct.stage_url} selectItem={selectedItem}/>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main\r\n","import logo from './logo.svg';\r\nimport './App.css';\r\nimport Main from './Pages/Main/Main';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <h3 className=\"text-center\">T-Shirt Designer</h3>\r\n      <Main/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const initialState = {\r\n    productData: null\r\n}\r\n\r\nconst productReducer = (state = initialState, {type, payload}) => {\r\n    switch(type) {\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport default productReducer;","import { combineReducers } from \"@reduxjs/toolkit\"\r\nimport productReducer from \"./Product/ProductReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    product: productReducer\r\n});\r\n\r\nexport default rootReducer;","import { applyMiddleware, createStore } from \"@reduxjs/toolkit\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport logger from \"redux-logger\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./RootReducer\";\r\n\r\nconst middleWare = [logger, thunk];\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(...middleWare)))","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport { store } from './Store/Store';\r\nimport { Provider } from 'react-redux';\r\nimport $ from 'jquery';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}